<link rel="import" href="bower_components/polymer/polymer.html">

<dom-module id="v-license-box">
    <style>
        #license-box-content {
            position: fixed;
            top: 0;
            right: 0;
            cursor: pointer;
        }

        #license-box-content.trial {
            background-color: lightblue;
        }

        #license-box-content.unlicensed {
            background-color: red;
        }
    </style>
    <template>
        <div id="license-box-content" class$="[[type]]" on-click="_close">[[content]]</div>
    </template>
</dom-module>

<script>
    LicenseBox = Polymer({
        is: "v-license-box",

        contents: {
            unlicensed: 'Unlicensed copy of Vaadin %s',
            trial: 'Vaadin %s trial license'
        },

        properties: {
            content: {
                type: String,
                computed: '_computeContent(type, productName)'
            },
            type: String,
            productName: String
        },

        factoryImpl: function (type, productName) {
            this.type = type;
            this.productName = productName;
        },

        _close: function () {
            this.fire('v-license-box-close', {type: this.type});
            this.remove();
        },

        _computeContent: function (type, productName) {
            return this.contents[type].replace(/%s/, productName);
        }
    });
</script>
